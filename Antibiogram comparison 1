<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>UCSF Antibiotic Planner</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
      text-align: center;
    }
    table {
      border-collapse: collapse;
      margin: auto;
      width: 100%;
      max-width: 1200px;
    }
    th, td {
      border: 1px solid #888;
      padding: 8px;
      text-align: center;
      min-width: 90px;
    }
    thead tr:first-child {
      background-color: #cfe2f3;
    }
    thead tr:nth-child(2) {
      background-color: #f4cccc;
    }
    td.highlight-green {
      background-color: #4CAF50;
      color: white;
    }
    td.highlight-orange {
      background-color: #FF9800;
      color: white;
    }
    .antibiotic {
      cursor: pointer;
      font-weight: bold;
      background-color: #f2f2f2;
    }
  </style>
</head>
<body>
  <h1>UCSF Antibiotic Combination Planner</h1>
  <table id="antibiogram">
    <thead>
      <tr>
        <th>Antibiotic ↓ / Organism →</th>
        <th colspan="10">Gram-Positive Organisms</th>
        <th colspan="9">Gram-Negative Organisms</th>
      </tr>
      <tr>
        <th></th>
        <th>S. aureus</th><th>MSSA</th><th>MRSA</th><th>S. epidermidis</th><th>S. lugdunensis</th>
        <th>Viridans strep</th><th>S. anginosus</th><th>S. mitis</th><th>E. faecalis</th><th>E. faecium</th>
        <th>Citrobacter freundii</th><th>Enterobacter cloacae</th><th>E. coli</th><th>K. aerogenes</th>
        <th>K. oxytoca</th><th>K. pneumoniae</th><th>P. mirabilis</th><th>P. aeruginosa</th><th>S. marcescens</th>
      </tr>
    </thead>
    <tbody>
      <!-- Sample Antibiotic Row -->
      <tr class="drug-row">
        <td class="antibiotic">VANC</td>
        <td data-percent="99">99%</td><td data-percent="100">100%</td><td data-percent="99">99%</td><td data-percent="100">100%</td><td data-percent="100">100%</td>
        <td data-percent="100">100%</td><td data-percent="100">100%</td><td data-percent="100">100%</td><td data-percent="100">100%</td><td data-percent="98">98%</td>
        <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
      </tr>
      <tr class="drug-row">
        <td class="antibiotic">DAP</td>
        <td data-percent="100">100%</td><td data-percent="100">100%</td><td data-percent="99">99%</td><td data-percent="100">100%</td><td data-percent="100">100%</td>
        <td data-percent="95">95%</td><td data-percent="100">100%</td><td data-percent="100">100%</td><td data-percent="100">100%</td><td data-percent="98">98%</td>
        <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
      </tr>
      <tr class="drug-row">
        <td class="antibiotic">CLIN</td>
        <td data-percent="71">71%</td><td data-percent="75">75%</td><td data-percent="60">60%</td><td data-percent="100">100%</td><td data-percent="86">86%</td>
        <td data-percent="95">95%</td><td data-percent="81">81%</td><td data-percent="77">77%</td><td data-percent="11">11%</td><td data-percent="11">11%</td>
        <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
      </tr>
      <tr class="drug-row">
        <td class="antibiotic">CFPM</td>
        <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
        <td data-percent="96">96%</td><td data-percent="87">87%</td><td data-percent="82">82%</td><td data-percent="97">97%</td><td data-percent="89">89%</td>
        <td data-percent="79">79%</td><td data-percent="94">94%</td><td data-percent="90">90%</td><td data-percent="98">98%</td>
      </tr>
       <tr class="drug-row"><td class="antibiotic">AMP</td>
      <td></td><td>100%</td><td></td><td>88%</td><td>100%</td><td>94%</td><td>100%</td><td>97%</td><td>98%</td><td>13%</td>
      <td>77%</td><td>77%</td><td>56%</td><td>80%</td><td>83%</td><td>82%</td><td>88%</td><td></td><td>69%</td></tr>

    <tr class="drug-row"><td class="antibiotic">PCN</td>
      <td></td><td>100%</td><td></td><td>71%</td><td>100%</td><td>93%</td><td>100%</td><td>97%</td><td>15%</td><td>5%</td>
      <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>

    <tr class="drug-row"><td class="antibiotic">CTRX</td>
      <td>97%</td><td>100%</td><td>95%</td><td>96%</td><td>100%</td><td>100%</td><td>100%</td><td>100%</td><td>94%</td><td>92%</td>
      <td>85%</td><td>85%</td><td>79%</td><td>91%</td><td>83%</td><td>90%</td><td>96%</td><td></td><td>93%</td></tr>


    <tr class="drug-row"><td class="antibiotic">DOX</td>
      <td>82%</td><td>91%</td><td>72%</td><td>89%</td><td>100%</td><td>85%</td><td>95%</td><td>95%</td><td>97%</td><td>89%</td>
      <td>93%</td><td>92%</td><td>81%</td><td>93%</td><td>100%</td><td>96%</td><td>98%</td><td>79%</td><td>92%</td></tr>

    <tr class="drug-row"><td class="antibiotic">LZD</td>
      <td>100%</td><td>100%</td><td>99%</td><td>100%</td><td>100%</td><td>99%</td><td>100%</td><td>100%</td><td>99%</td><td>98%</td>
      <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>

    <tr class="drug-row"><td class="antibiotic">NAF</td>
      <td>83%</td><td>91%</td><td>69%</td><td>89%</td><td>100%</td><td>96%</td><td>95%</td><td>89%</td><td>28%</td><td>19%</td>
      <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>

    <tr class="drug-row"><td class="antibiotic">T/S</td>
      <td>86%</td><td>89%</td><td>81%</td><td>93%</td><td>100%</td><td>96%</td><td>100%</td><td>93%</td><td>98%</td><td>94%</td>
      <td>88%</td><td>87%</td><td>78%</td><td>95%</td><td>92%</td><td>95%</td><td>96%</td><td>83%</td><td>95%</td></tr>

    <tr class="drug-row"><td class="antibiotic">CIP</td>
      <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
      <td>96%</td>
    </tbody>
  </table>

  <script>
    document.querySelectorAll('.antibiotic').forEach(cell => {
      cell.addEventListener('click', () => {
        const row = cell.parentElement;
        const isActive = cell.classList.contains('active');

        [...row.cells].forEach((td, i) => {
          if (i === 0) return;
          const raw = td.dataset.percent;
          const percent = parseFloat(raw);
          td.classList.remove('highlight-green', 'highlight-orange');

          if (!isActive && !isNaN(percent)) {
            if (percent >= 90) {
              td.classList.add('highlight-green');
            } else if (percent >= 80) {
              td.classList.add('highlight-orange');
            }
          }
        });

        cell.classList.toggle('active');
      });
    });
  </script>
</body>
</html>
